
# I.	METHODOLOGY
The purpose of license plate location system is to correctly acquire the license plate area in the whole image, and identify the license plate number. License plate recognition system should include vehicle detection, image acquisition, license plate recognition and so on. When the vehicle detection part detects the arrival of the vehicle, trigger the image acquisition unit, and collect the current video image. The license plate recognition unit processes the image, locates the license plate position, and then divides and identifies the license plateâ€™s characters and then the license plate number is output. 

## A.	Dataset
Before license plate recognition, it is necessary to train the neural network with samples, and then use the trained network to recognize the license plate .The specific process is as follows: four sub-networks are trained with four samples of Chinese characters, letters, alphanumeric and numbers, and the corresponding node numbers and weights are obtained. I use [CCPD (Chinese City Parking Dataset, ECCV)](https://github.com/detectRecog/CCPD) as my dataset.
 
## B.	Protocols
1)  Put Forward The Overall Design Scheme: 
In order to carry out license plate recognition, the following basic steps are required: license plate positioning, license plate character segmentation, license plate character recognition.
- In the process of license plate recognition, the recognition of license plate color is based on different algorithms, which may be realized in the above-mentioned different steps, and usually cooperates with and verifies each other with license plate recognition.
- In the natural environment, the background of automobile image is complex and the illumination is uneven .How to accurately determine the license plate area in the natural background is the key of the whole recognition processFirstly, a large-scale correlation search is carried out on the collected video images, and a plurality of areas which meet the characteristics of automobile license plates are found as candidate areas, and then these candidate areas are further analyzed and evaluated. Finally, the best area is selected as the license plate area, and it is segmented from the image.
- After positioning the license plate area, the license plate area is divided into single characters and then recognized .Vertical projection method is generally used for character segmentation .Because the projection of characters in the vertical direction must get near the local minimum at the gap between characters or within characters, and this position should meet the character writing format, characters, size restrictions and some other conditions of the license plate .The vertical projection method has a good effect on character segmentation in automobile images in complex environment.
- At present, the methods of character recognition mainly include template matching algorithm and artificial neural network algorithm. Template-based matching algorithm first binarizes the segmented characters, and scales their size to the size of the templates in the character database, then matches with all templates, and finally selects the best match as the result. There are two algorithms based on artificial neural network: one is to extract the features of the characters to be recognized first, and then use the obtained features to train the neural network distributor; Another method is to directly input the image to be processed into the network, and the network automatically realizes feature extraction until the result is recognized .
2)  Input The Original Image to Be Processed: 
 
3)  Image Grayscale: 
Color images contain a lot of color information, which not only costs a lot in storage, but also slows down the execution speed of the system in processing .Therefore, color images are often converted into gray images in image recognition and other processing to speed up the processing speed .The process from color to gray is called gray processing .The selection criterion is that after gray scale transformation, the dynamic range of pixels increases, and the contrast of the image expands, which makes the image clearer, finer and easier to identify.
 
4)  Open The Original Image To Get The Background Image: 
 
5)  Subtract The Gray Image From The Background Image and Enhance The Image: 

6)  Get The Best Threshold and Binarize The Image: 
Binary images refer to images with only black and white values in the whole image frame. In the actual license plate processing system, the key to binary image transformation is to determine the appropriate threshold, so that characters and background can be separated .The binary image must have good shape retention, without losing useful shape information, and without creating additional vacancies. License plate recognition system requires high processing speed, low cost and large amount of information .Using binary image for processing can greatly improve the processing efficiency .The operation process of threshold processing is to specify a threshold by the user or generate a threshold by algorithm .If the gray value of a pixel in an image is less than the threshold, the gray value of the pixel is set to 0 or 255.Otherwise, the gray value is set to 255 or 0.

7)  Edge Detection: 
There is always an edge between two adjacent regions with different gray values, which is the result of discontinuous gray values and is the basis of image analysis such as image segmentation, texture feature extraction and shape feature extraction .In order to classify meaningful edge points, the gray level associated with this point must be more efficient than the transformation on the background of this point. We use threshold method to determine whether a value is valid .Therefore, if the two-dimensional first derivative of a point is larger than the specified threshold, we define the secondary point in the image as an edge point, and a group of such edge points connected according to the predetermined connection criterion is defined as an edge .After edge detection of the first derivative, If the first derivative is higher than a certain threshold, it will be determined as an edge point, which will lead to too many edge points detected .Accurate edges can be detected by finding the points corresponding to the local maxima of gradients and identifying them as edge points, and removing the non-local maxima .The local maximum of the first derivative corresponds to the zero crossing point of the second derivative, In this way, accurate edge points can be found by finding the zero crossing point of the second derivative of image intensity.
 
8)  Filter That Obtained Image by Open Operation: 
Mathematical morphological nonlinear filtering can be used for noise suppression, feature extraction, edge detection, image segmentation and other image processing problems .Corrosion is a process of eliminating boundary points, which results in shrinking targets and increasing holes, thus effectively eliminating isolated noise points .Expansion is a process of merging all background points in contact with a target object into the object, the result is that the target is enlarged and the hole is reduced, which can fill the hole in the target object and form a connected domain The process of corrosion before expansion is called open operation, which can eliminate small objects, separate objects at slender places and smooth the boundaries of larger objects The process of expanding first and then corroding is called closed operation, which has fine cavities in the filler body. The function of connecting adjacent objects and smoothing boundaries Open operation and close operation are done on the image, and the closed operation can make the contour line of the image smoother .It is usually used to eliminate narrow gaps and long and thin gaps, eliminate small holes, and make up for the breaks in the contour line.

9)  Carry Out Region Extraction on Binary Images and Calculate Region Characteristic Parameters. Compare The Regional Characteristic Parameters and Extract The License Plate Area: 
Mark each area of the image, and then calculate the image characteristic parameters of each area: the center position of the area, the minimum containing rectangle and the area.
Calculating the minimum width and height of the marked area, comparing whose width-height ratio is closer to the actual license plate width-height ratio according to prior knowledge, and extracting and displaying the closer one.
 
10)  Peak and Valley Analysis of Horizontal Projection: 
Peak-valley analysis is carried out on horizontal projection, and parameters of waveform peak rising point, peak falling point, peak width, valley width, distance between peaks and peak center position of license plate upper frame, license plate character projection and license plate lower frame are calculated.

11)  Calculate The License Plate Rotation Angle: 
The license plate tilt causes the peak and valley of projection effect not obvious, so license plate correction is needed hereIn this paper, the linear fitting method is adopted to calculate the angle between the fitting line of the point with the image value of 1 on the upper or lower side of the license plate and the horizontal X axis.
After rotating the license plate, recalculate the horizontal projection of the license plate, remove the horizontal frame of the license plate and obtain the character height;

12)  Remove Horizontal (Up and Down) Borders To Obtain Character Height: 
Through the above horizontal projection and vertical projection analysis and calculation, the height of license plate characters, the top line and tail line of characters, the width of characters and the center position of each character are obtained, which has the conditions for extracting segmented characters.

## C.	Results
Match the character image obtained by calculation with the sample library, and automatically identify the character code. Carrying out image pre-processing on the positioned license plate, features are extracted one by one, and then the corresponding node numbers and weights are read from the corresponding files, and the license plate characters are sent to the corresponding networks for recognition, and the recognition results are output.
 
## D.	Analysis
Sometimes the recognition of this license plate failed, and G was mistaken for B, K was mistaken for A, and 0 was mistaken for 8This is a very error-prone place in recognition, so we need to make up for it in other aspects, and finally achieve the recognition effect.
In the process of license plate recognition, the establishment of digital library is very important, and only the accuracy of digital library can guarantee the correctness of the detected dataThe cut data should be compared with the data in the database, so the data in the database is particularly important.

# II.	CONCLUSIONS
In license plate location, we use the location method based on gray level jump, and adopt the method of preprocessing the image first and then binarizing the image .Experiments show that this method not only preserves the information of license plate area, but also reduces the noise interference, thus simplifying the binarization process and improving the speed of subsequent processing. The location method based on color component and the method based on statistical characteristics of blue pixels are used to locate the license plate with blue color .Experiments show that the license plate location accuracy achieved by this method is higher .The result of MATLAB programming in this design shows that the image preprocessing, CANNY edge detection, opening and closing operators [5,19], license plate aspect ratio feature recognition are very effective for license plate location, while the secondary horizontal projection analysis and threshold technology proposed in this design effectively detect the upper, lower, left and right frames and rotation angles of license plate images, and accurately realize the segmentation of license plate characters .Experiments on multiple license plates have high accuracy .Although this design only carries out segmentation and recognition on white license plates with blue background, the whole algorithm can be directly applied to white license plates with black background in principle .For black license plates with white background and black license plates with yellow background, it is necessary to adjust the license plate positioning algorithm and reverse the image (0 to 1, 1 to 0), but the segmentation algorithm of license plate characters is still effective.
